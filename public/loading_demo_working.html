<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading States Demo - Clear Visual Effects</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Loading overlay - Full screen blocking */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(4px);
            z-index: 9999;
            display: none;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .loading-overlay.show {
            display: flex;
        }

        .loading-spinner {
            width: 4rem;
            height: 4rem;
            border: 0.4rem solid #ffffff30;
            border-top: 0.4rem solid #ffffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1.5rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 1.2rem;
            color: white;
            text-align: center;
            margin-bottom: 1rem;
        }

        .progress-container {
            width: 400px;
            margin-top: 1rem;
        }

        /* Button loading state */
        .btn-loading {
            position: relative;
            pointer-events: none;
            opacity: 0.7;
        }

        .btn-loading::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 1rem;
            height: 1rem;
            border: 2px solid transparent;
            border-top: 2px solid currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        .btn-loading .btn-text {
            opacity: 0;
        }

        /* Section loading */
        .section-loading {
            position: relative;
            pointer-events: none;
            opacity: 0.5;
        }

        .section-loading::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(248, 249, 250, 0.9);
            z-index: 10;
            border-radius: 0.375rem;
        }

        .section-loading::after {
            content: "Loading...";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 11;
            font-size: 1.1rem;
            color: #6c757d;
            font-weight: 500;
        }

        /* Skeleton loading for tables */
        .skeleton-row {
            height: 2rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: skeleton-shimmer 1.5s infinite;
            border-radius: 4px;
        }

        @keyframes skeleton-shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        /* Dashboard cards loading */
        .dashboard-card-loading {
            background: linear-gradient(90deg, #f8f9fa 25%, #e9ecef 50%, #f8f9fa 75%);
            background-size: 200% 100%;
            animation: skeleton-shimmer 1.5s infinite;
        }

        .demo-section {
            min-height: 200px;
            border: 2px dashed #dee2e6;
            border-radius: 0.5rem;
            padding: 2rem;
            margin: 1rem 0;
            background: #f8f9fa;
        }

        .result-display {
            background: #e7f3ff;
            border: 1px solid #b6d7ff;
            border-radius: 0.375rem;
            padding: 1rem;
            margin-top: 1rem;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <div class="text-center mb-5">
            <h1 class="display-4 text-primary"><i class="fas fa-sync-alt me-3"></i>Loading States Demo</h1>
            <p class="lead">Click the buttons below to see different loading effects in action</p>
        </div>

        <!-- Main Demo Controls -->
        <div class="row mb-4">
            <div class="col-md-3 mb-3">
                <button id="demoGlobalLoading" class="btn btn-primary btn-lg w-100">
                    <i class="fas fa-globe me-2"></i>Global Loading
                </button>
                <small class="text-muted d-block mt-1">Full-screen blocking overlay</small>
            </div>
            <div class="col-md-3 mb-3">
                <button id="demoProgressLoading" class="btn btn-info btn-lg w-100">
                    <i class="fas fa-tasks me-2"></i>Progress Loading
                </button>
                <small class="text-muted d-block mt-1">Multi-step progress bar</small>
            </div>
            <div class="col-md-3 mb-3">
                <button id="demoButtonLoading" class="btn btn-success btn-lg w-100">
                    <i class="fas fa-mouse-pointer me-2"></i>Button Loading
                </button>
                <small class="text-muted d-block mt-1">This button will show spinner</small>
            </div>
            <div class="col-md-3 mb-3">
                <button id="clearAll" class="btn btn-warning btn-lg w-100">
                    <i class="fas fa-times me-2"></i>Clear All
                </button>
                <small class="text-muted d-block mt-1">Reset all demo states</small>
            </div>
        </div>

        <div class="row">
            <!-- Section Loading Demo -->
            <div class="col-md-6 mb-4">
                <div class="card">
                    <div class="card-header bg-secondary text-white">
                        <h5 class="mb-0"><i class="fas fa-layer-group me-2"></i>Section Loading Demo</h5>
                    </div>
                    <div class="card-body">
                        <button id="demoSectionLoading" class="btn btn-secondary mb-3">
                            <i class="fas fa-section me-2"></i>Load Section
                        </button>
                        <div id="demoSection" class="demo-section">
                            <h6>Sample Section Content</h6>
                            <p>This entire section will show a loading overlay when you click the button above.</p>
                            <ul>
                                <li>Data visualization</li>
                                <li>Charts and graphs</li>
                                <li>User interactions</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Table Loading Demo -->
            <div class="col-md-6 mb-4">
                <div class="card">
                    <div class="card-header bg-warning text-dark">
                        <h5 class="mb-0"><i class="fas fa-table me-2"></i>Table Loading Demo</h5>
                    </div>
                    <div class="card-body">
                        <button id="demoTableLoading" class="btn btn-warning mb-3">
                            <i class="fas fa-database me-2"></i>Load Table Data
                        </button>
                        <div class="table-responsive">
                            <table class="table table-bordered" id="demoTable">
                                <thead class="table-dark">
                                    <tr>
                                        <th>Company</th>
                                        <th>Status</th>
                                        <th>Progress</th>
                                    </tr>
                                </thead>
                                <tbody id="demoTableBody">
                                    <tr>
                                        <td>Apple Inc.</td>
                                        <td><span class="badge bg-success">Active</span></td>
                                        <td>95%</td>
                                    </tr>
                                    <tr>
                                        <td>Microsoft Corp.</td>
                                        <td><span class="badge bg-warning">Pending</span></td>
                                        <td>75%</td>
                                    </tr>
                                    <tr>
                                        <td>Google LLC</td>
                                        <td><span class="badge bg-primary">Processing</span></td>
                                        <td>88%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Cards Demo -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="fas fa-chart-bar me-2"></i>Dashboard Cards Loading Demo</h5>
                    </div>
                    <div class="card-body">
                        <button id="demoDashboardLoading" class="btn btn-primary mb-3">
                            <i class="fas fa-dashboard me-2"></i>Load Dashboard
                        </button>
                        <div class="row">
                            <div class="col-md-3">
                                <div class="card bg-info text-white dashboard-card" id="card1">
                                    <div class="card-body text-center">
                                        <h3 id="card1Value">279</h3>
                                        <p class="mb-0">Total Proposals</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card bg-success text-white dashboard-card" id="card2">
                                    <div class="card-body text-center">
                                        <h3 id="card2Value">1,247</h3>
                                        <p class="mb-0">Voted Accounts</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card bg-warning text-dark dashboard-card" id="card3">
                                    <div class="card-body text-center">
                                        <h3 id="card3Value">892</h3>
                                        <p class="mb-0">Unvoted Accounts</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card bg-secondary text-white dashboard-card" id="card4">
                                    <div class="card-body text-center">
                                        <h3 id="card4Value">96.8%</h3>
                                        <p class="mb-0">Accuracy Rate</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Display -->
        <div class="result-display">
            <h5><i class="fas fa-info-circle me-2"></i>Demo Status</h5>
            <p id="statusMessage">Ready to demonstrate loading states. Click any button above to see the effects!</p>
        </div>
    </div>

    <!-- Global Loading Overlay -->
    <div id="globalLoadingOverlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text" id="globalLoadingText">Loading...</div>
        <div class="progress-container" id="globalProgressContainer" style="display: none;">
            <div class="progress">
                <div class="progress-bar progress-bar-striped progress-bar-animated bg-light" 
                     id="globalProgressBar" role="progressbar" style="width: 0%"></div>
            </div>
            <small class="text-light mt-2 d-block" id="globalProgressText">Preparing...</small>
        </div>
    </div>

    <script>
        let activeDemo = null;
        
        function updateStatus(message) {
            document.getElementById('statusMessage').textContent = message;
        }
        
        function showGlobalLoading(message = 'Loading...', withProgress = false) {
            const overlay = document.getElementById('globalLoadingOverlay');
            const text = document.getElementById('globalLoadingText');
            const progressContainer = document.getElementById('globalProgressContainer');
            
            text.textContent = message;
            progressContainer.style.display = withProgress ? 'block' : 'none';
            overlay.classList.add('show');
            
            updateStatus('Global loading overlay is now visible and blocking all interactions');
        }
        
        function hideGlobalLoading() {
            const overlay = document.getElementById('globalLoadingOverlay');
            overlay.classList.remove('show');
            updateStatus('Global loading overlay hidden');
        }
        
        function updateProgress(percent, message = '') {
            const bar = document.getElementById('globalProgressBar');
            const text = document.getElementById('globalProgressText');
            
            bar.style.width = percent + '%';
            if (message) text.textContent = message;
        }
        
        function showButtonLoading(buttonId) {
            const button = document.getElementById(buttonId);
            button.classList.add('btn-loading');
            button.disabled = true;
            
            if (!button.dataset.originalText) {
                button.dataset.originalText = button.innerHTML;
            }
            
            button.innerHTML = '<span class="btn-text">' + button.dataset.originalText + '</span>';
            updateStatus('Button "' + buttonId + '" is now in loading state');
        }
        
        function hideButtonLoading(buttonId) {
            const button = document.getElementById(buttonId);
            button.classList.remove('btn-loading');
            button.disabled = false;
            
            if (button.dataset.originalText) {
                button.innerHTML = button.dataset.originalText;
            }
            updateStatus('Button loading state cleared');
        }
        
        function showSectionLoading(sectionId) {
            const section = document.getElementById(sectionId);
            section.classList.add('section-loading');
            updateStatus('Section "' + sectionId + '" is now in loading state with overlay');
        }
        
        function hideSectionLoading(sectionId) {
            const section = document.getElementById(sectionId);
            section.classList.remove('section-loading');
            updateStatus('Section loading state cleared');
        }
        
        function showTableSkeleton() {
            const tbody = document.getElementById('demoTableBody');
            tbody.innerHTML = `
                <tr><td colspan="3"><div class="skeleton-row"></div></td></tr>
                <tr><td colspan="3"><div class="skeleton-row"></div></td></tr>
                <tr><td colspan="3"><div class="skeleton-row"></div></td></tr>
            `;
            updateStatus('Table showing skeleton loading animation');
        }
        
        function restoreTableContent() {
            const tbody = document.getElementById('demoTableBody');
            tbody.innerHTML = `
                <tr>
                    <td>Apple Inc.</td>
                    <td><span class="badge bg-success">Active</span></td>
                    <td>95%</td>
                </tr>
                <tr>
                    <td>Microsoft Corp.</td>
                    <td><span class="badge bg-warning">Pending</span></td>
                    <td>75%</td>
                </tr>
                <tr>
                    <td>Google LLC</td>
                    <td><span class="badge bg-primary">Processing</span></td>
                    <td>88%</td>
                </tr>
            `;
            updateStatus('Table content restored');
        }
        
        function showDashboardLoading() {
            ['card1', 'card2', 'card3', 'card4'].forEach(id => {
                document.getElementById(id).classList.add('dashboard-card-loading');
            });
            updateStatus('Dashboard cards showing shimmer loading effect');
        }
        
        function hideDashboardLoading() {
            ['card1', 'card2', 'card3', 'card4'].forEach(id => {
                document.getElementById(id).classList.remove('dashboard-card-loading');
            });
            updateStatus('Dashboard loading effects cleared');
        }
        
        function clearAll() {
            hideGlobalLoading();
            hideSectionLoading('demoSection');
            hideButtonLoading('demoButtonLoading');
            restoreTableContent();
            hideDashboardLoading();
            
            // Clear any button loading states
            document.querySelectorAll('.btn-loading').forEach(btn => {
                btn.classList.remove('btn-loading');
                btn.disabled = false;
                if (btn.dataset.originalText) {
                    btn.innerHTML = btn.dataset.originalText;
                }
            });
            
            updateStatus('All loading states cleared - ready for new demonstrations');
        }
        
        // Event handlers
        document.addEventListener('DOMContentLoaded', function() {
            updateStatus('Demo page loaded and ready! Click any button to see loading effects.');
            
            // Global Loading Demo
            document.getElementById('demoGlobalLoading').addEventListener('click', function() {
                showGlobalLoading('Demonstrating full-screen loading overlay...');
                setTimeout(hideGlobalLoading, 4000);
            });
            
            // Progress Loading Demo
            document.getElementById('demoProgressLoading').addEventListener('click', async function() {
                showGlobalLoading('Multi-step operation in progress...', true);
                
                const steps = ['Initializing...', 'Loading data...', 'Processing...', 'Finalizing...', 'Complete!'];
                
                for (let i = 0; i < steps.length; i++) {
                    updateProgress((i + 1) * 20, steps[i]);
                    await new Promise(resolve => setTimeout(resolve, 1000));
                }
                
                setTimeout(hideGlobalLoading, 1000);
            });
            
            // Button Loading Demo
            document.getElementById('demoButtonLoading').addEventListener('click', function() {
                showButtonLoading('demoButtonLoading');
                setTimeout(() => hideButtonLoading('demoButtonLoading'), 3000);
            });
            
            // Section Loading Demo
            document.getElementById('demoSectionLoading').addEventListener('click', function() {
                showSectionLoading('demoSection');
                setTimeout(() => hideSectionLoading('demoSection'), 3000);
            });
            
            // Table Loading Demo
            document.getElementById('demoTableLoading').addEventListener('click', function() {
                showTableSkeleton();
                setTimeout(restoreTableContent, 3000);
            });
            
            // Dashboard Loading Demo
            document.getElementById('demoDashboardLoading').addEventListener('click', function() {
                showDashboardLoading();
                setTimeout(hideDashboardLoading, 4000);
            });
            
            // Clear All
            document.getElementById('clearAll').addEventListener('click', clearAll);
        });
    </script>
</body>
</html>
