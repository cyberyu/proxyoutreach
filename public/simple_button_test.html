<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Button Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1>Simple Button Test</h1>
        
        <div class="mb-3">
            <button class="btn btn-primary" onclick="simpleTest()">Simple Test</button>
            <button class="btn btn-success" onclick="asyncTest()">Async Test</button>
            <button class="btn btn-warning" onclick="apiTest()">API Test</button>
        </div>
        
        <div class="mt-3">
            <div id="output"></div>
        </div>
    </div>

    <script>
        function simpleTest() {
            const output = document.getElementById('output');
            output.innerHTML = '<div class="alert alert-success">Simple function works!</div>';
            console.log('Simple function called successfully');
        }
        
        async function asyncTest() {
            const output = document.getElementById('output');
            output.innerHTML = '<div class="alert alert-info">Async function called...</div>';
            console.log('Async function called successfully');
            
            // Simulate async operation
            setTimeout(() => {
                output.innerHTML = '<div class="alert alert-success">Async function completed!</div>';
                console.log('Async function completed successfully');
            }, 1000);
        }
        
        async function apiTest() {
            const output = document.getElementById('output');
            output.innerHTML = '<div class="alert alert-info">API test starting...</div>';
            console.log('API test starting');
            
            try {
                const response = await fetch('/api/dashboard');
                const data = await response.json();
                output.innerHTML = `<div class="alert alert-success">API works! Total proposals: ${data.totalProposals}</div>`;
                console.log('API test successful:', data);
            } catch (error) {
                output.innerHTML = `<div class="alert alert-danger">API error: ${error.message}</div>`;
                console.error('API test failed:', error);
            }
        }
        
        console.log('Script loaded successfully');
    </script>
</body>
</html>
